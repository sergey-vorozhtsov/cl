# classloader
Allows to load classes in order generated by maven dependency plugin.

How-to install:

# 1. Add classLoader
We need to point tomcat to custom classLoader like this:

    <Context>
        <Loader className="org.apache.catalina.loader.WebappLoader" loaderClass="net.pearlchain.CustomWebappClassLoader"/>
    </Context>
    
And we have options to place it in:

1a tomcat config

    "apache-tomcat-9.0.12\conf\context.xml"
    
Which will be applied for all webapps, including system ones like "manager".

1b root of webapp - preferred option

    {projectname}\src\main\webapp\META-INF\context.xml
    
Which will be placed after deploy to:

    apache-tomcat\webapps\{projectname}\META-INF\context.xml"

And only this webapp will be affected.

# 2. Put classloader.jar into lib directory

    "apache-tomcat-9.0.12\lib\"

catalina.jar is here for example.

# 3. Put calsspath.properties into conf directory

    "\apache-tomcat-9.0.12\conf\" 

other tomcat properties placed here too.

calsspath.properties contains one property:

    classpath.dependencies.filename=dependency-classpath.txt

where 'dependency-classpath.txt' - is filename with dependency-classpath generated by dependency plugin.

# 4. Add dependency plugin in project
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>3.1.1</version>
                    <executions>
                        <execution>
                            <id>build-cp</id>
                            <phase>compile</phase>
                            <goals>
                                <goal>build-classpath</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <outputFile>${project.build.outputDirectory}/dependency-classpath.txt</outputFile>
                    </configuration>
                </plugin>
            </plugins>
        </build>
    </project>

This command will generate classpath deendencies, put into a file, into dir:

    'target\classes'
which will be unpacked to:

    'tomcat\webapps\{projectname}\WEB_INF\classes' 
    
in the tomcat server
